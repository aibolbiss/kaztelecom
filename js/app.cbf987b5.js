(function(e){function t(t){for(var n,s,i=t[0],c=t[1],u=t[2],m=0,p=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},3703:function(e,t,r){"use strict";r("4d31")},3953:function(e,t,r){"use strict";r("564a")},"4d31":function(e,t,r){},"564a":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"buttons"},[r("button",{on:{click:e.sortNumber}},[e._v("Отсортировать по номеру")]),r("button",{on:{click:e.sortString}},[e._v("Отсортировать по алфавиту")])]),e._l(e.cities,(function(t){return r("div",{key:t.id,staticClass:"cities"},[r("p",[e._v(e._s(t.id)+") "+e._s(t.name))])])})),r("Form")],2)},o=[],s=r("5530"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("h2",[e._v("Отправка данных на FireBase")]),r("h4",[e._v(" https://kazaktelekom-test-api-default-rtdb.europe-west1.firebasedatabase.app/user.json ")]),r("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.send.apply(null,arguments)}}},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control",class:{danger:e.$store.state.error.email},attrs:{type:"email",name:"email",placeholder:"E-mail почта"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e.$store.state.error.email?r("small",[e._v(e._s(e.$store.state.error.email))]):e._e(),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],staticClass:"form-control",class:{danger:e.$store.state.error.name},attrs:{type:"text",name:"name",placeholder:"Имя"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e.$store.state.error.name?r("small",[e._v(e._s(e.$store.state.error.name))]):e._e(),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.organization,expression:"organization",modifiers:{trim:!0}}],staticClass:"form-control",class:{danger:e.$store.state.error.organization},attrs:{type:"text",name:"organization",placeholder:"Организация"},domProps:{value:e.organization},on:{input:function(t){t.target.composing||(e.organization=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e.$store.state.error.organization?r("small",[e._v(e._s(e.$store.state.error.organization))]):e._e(),r("div",{staticClass:"form-group"},[r("select",{directives:[{name:"model",rawName:"v-model.number",value:e.catalog,expression:"catalog",modifiers:{number:!0}}],class:{danger:e.$store.state.error.catalog},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var r="_value"in t?t._value:t.value;return e._n(r)}));e.catalog=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"null",selected:"",disabled:"",hidden:""}},[e._v(" Выберите идентификатор услуги ")]),r("option",{attrs:{value:"1111"}},[e._v("1111")]),r("option",{attrs:{value:"3941"}},[e._v("3941")]),r("option",{attrs:{value:"7777"}},[e._v("7777")])])]),e.$store.state.error.catalog?r("small",[e._v(e._s(e.$store.state.error.catalog))]):e._e(),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"},{name:"maska",rawName:"v-maska",value:["+7 (###) ###-##-##","+7 (###) ###-##-##"],expression:"['+7 (###) ###-##-##', '+7 (###) ###-##-##']"}],staticClass:"form-control",class:{danger:e.$store.state.error.phone},attrs:{name:"phone",placeholder:"Номер телефона"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e.$store.state.error.phone?r("small",[e._v(e._s(e.$store.state.error.phone))]):e._e(),r("div",{staticClass:"form-group"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.server,expression:"server"}],class:{danger:e.$store.state.error.server},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.server=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"null",selected:"",disabled:"",hidden:""}},[e._v(" Выберите идентификатор региона ")]),e._l(e.cities,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.id)+") "+e._s(t.name)+" ")])}))],2)]),e.$store.state.error.server?r("small",[e._v(e._s(e.$store.state.error.server))]):e._e(),r("div",{staticClass:"form-group"},[r("vue-recaptcha",{ref:"recaptcha",attrs:{size:"invisible",sitekey:e.sitekey},on:{verify:e.send,expired:e.onCaptchaExpired}}),r("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[e._v(" Отправить ")]),e.$store.state.success?r("h5",{staticClass:"success"},[e._v(" Данные успешно отправились ")]):e._e()],1)])])},c=[],u=(r("b0c0"),r("2f62")),l=r("e096"),m=r("795b"),p={components:{VueRecaptcha:l["a"]},directives:{maska:m["a"]},computed:Object(s["a"])({email:{get:function(){return this.$store.state.email},set:function(e){this.$store.commit("updateEmail",e)}},name:{get:function(){return this.$store.state.name},set:function(e){this.$store.commit("updateName",e)}},organization:{get:function(){return this.$store.state.organization},set:function(e){this.$store.commit("updateOrganization",e)}},catalog:{get:function(){return this.$store.state.catalog},set:function(e){this.$store.commit("updateCatalog",e)}},phone:{get:function(){return this.$store.state.phone},set:function(e){this.$store.commit("updatePhone",e)}},server:{get:function(){return this.$store.state.server},set:function(e){this.$store.commit("updateServer",e)}}},Object(u["c"])(["sitekey","cities"])),methods:Object(s["a"])(Object(s["a"])({},Object(u["b"])(["send"])),{},{onCaptchaExpired:function(){this.$refs.recaptcha.reset()}})},f=p,d=(r("3953"),r("2877")),v=Object(d["a"])(f,i,c,!1,null,null,null),g=v.exports,h={components:{Form:g},computed:Object(s["a"])({},Object(u["c"])(["cities"])),methods:Object(s["a"])(Object(s["a"])({},Object(u["d"])(["sortNumber","sortString"])),Object(u["b"])(["fetchCities"])),mounted:function(){this.fetchCities()}},b=h,_=(r("3703"),Object(d["a"])(b,a,o,!1,null,"1b7785fc",null)),y=_.exports,$=r("1da1");r("96cf"),r("4e82"),r("d3b7"),r("e9c4");n["default"].use(u["a"]);var O=new u["a"].Store({state:{cities:[],email:null,name:null,organization:null,catalog:null,phone:null,server:null,sitekey:"6LdreH8fAAAAAKAzZ_Dtne3T-WSY5qfUuJJ9r5ue",error:{email:null,name:null,organization:null,catalog:null,phone:null,server:null},success:!1},mutations:{getCities:function(e,t){e.cities=t},sortNumber:function(e){e.cities.sort((function(e,t){return parseFloat(e.id)-parseFloat(t.id)}))},sortString:function(e){e.cities.sort((function(e,t){return e.name>t.name?1:-1}))},updateEmail:function(e,t){e.email=t},updateName:function(e,t){e.name=t},updateOrganization:function(e,t){e.organization=t},updateCatalog:function(e,t){e.catalog=t},updatePhone:function(e,t){e.phone=t},updateServer:function(e,t){e.server=t},errorEmail:function(e,t){e.error.email=t},errorName:function(e,t){e.error.name=t},errorOrganization:function(e,t){e.error.organization=t},errorCatalog:function(e,t){e.error.catalog=t},errorPhone:function(e,t){e.error.phone=t},errorServer:function(e,t){e.error.server=t},reset_1:function(e){e.error.email=null,e.error.name=null,e.error.organization=null,e.error.catalog=null,e.error.phone=null,e.error.server=null},reset_2:function(e){e.email=null,e.name=null,e.organization=null,e.catalog=null,e.phone=null,e.server=null},success:function(e,t){e.success=t}},getters:{cities:function(e){return e.cities},email:function(e){return e.email},name:function(e){return e.name},organization:function(e){return e.organization},sitekey:function(e){return e.sitekey}},actions:{fetchCities:function(e){return Object($["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://www.ismet.kz/bin/ocp/publicbpms.rest/bpmn/v1/reference/kt_cb_server");case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("getCities",n);case 7:case"end":return t.stop()}}),t)})))()},success:function(e){setTimeout((function(){e.commit("success",!0)}),500),setTimeout((function(){e.commit("success",!1)}),3e3)},send:function(e){return Object($["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=!0,null===e.state.email&&(e.commit("errorEmail","Введите свою почту"),r=!1),null===e.state.name&&(e.commit("errorName","Введите свое имя"),r=!1),null===e.state.organization&&(e.commit("errorOrganization","Введите название организаций"),r=!1),null===e.state.catalog&&(e.commit("errorCatalog","Выберите идентификатор услуги"),r=!1),null===e.state.phone&&(e.commit("errorPhone","Введите свой номер телефона"),r=!1),null===e.state.server&&(e.commit("errorServer","Выберите идентификатор региона"),r=!1),!r){t.next=18;break}return e.commit("reset_1"),t.next=11,fetch("https://kazaktelekom-test-api-default-rtdb.europe-west1.firebasedatabase.app/user.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.email,name:e.state.name,organization:e.state.organization,catalog_id:e.state.catalog,phone:e.state.phone,server_id:e.state.server,sitekey:e.state.sitekey})});case 11:return n=t.sent,t.next=14,n.json();case 14:a=t.sent,e.commit("reset_2"),e.dispatch("success"),console.log(a);case 18:case"end":return t.stop()}}),t)})))()}}});n["default"].config.productionTip=!1,new n["default"]({store:O,render:function(e){return e(y)}}).$mount("#app")}});
//# sourceMappingURL=app.cbf987b5.js.map
